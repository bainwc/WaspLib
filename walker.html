<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Walker &mdash; WaspLib  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=5929fcd5"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="TRSWalkerObject" href="walkerobjects.html" />
    <link rel="prev" title="ItemFinder" href="itemfinder.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            WaspLib
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="webber.html">Tool Webber</a></li>
<li class="toctree-l1"><a class="reference internal" href="map_maker.html">MapMaker</a></li>
<li class="toctree-l1"><a class="reference internal" href="getobject.html">Tool GetObject</a></li>
<li class="toctree-l1"><a class="reference internal" href="codetester.html">Tool CodeTester</a></li>
<li class="toctree-l1"><a class="reference internal" href="monster_maker.html">PolygonMaker</a></li>
<li class="toctree-l1"><a class="reference internal" href="polygon_maker.html">PolygonMaker</a></li>
<li class="toctree-l1"><a class="reference internal" href="getpos.html">Tool GetPos</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="optional.html">Optional Files</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="biometrics.html">Biometrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="color.html">Color</a></li>
<li class="toctree-l1"><a class="reference internal" href="math.html">Math</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="utiltypes.html">Utility types, contants and variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="cacheparser.html">RSCacheParser</a></li>
<li class="toctree-l1"><a class="reference internal" href="misc.html">Misc</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="recorder.html">Recorder</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="mousezoom.html">MouseZoom</a></li>
<li class="toctree-l1"><a class="reference internal" href="remoteinput.html">RemoteInput</a></li>
<li class="toctree-l1"><a class="reference internal" href="mouse.html">Mouse</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="data.html">Data</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="formutils.html">Form Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="scriptform.html">ScriptForm</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tpoint.html">TPoint</a></li>
<li class="toctree-l1"><a class="reference internal" href="tcuboid.html">Cuboids</a></li>
<li class="toctree-l1"><a class="reference internal" href="tpointarray.html">TPointArray</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="consumables.html">Consumables</a></li>
<li class="toctree-l1"><a class="reference internal" href="items.html">Items Extensions</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="mm2ms.html">MM2MS</a></li>
<li class="toctree-l1"><a class="reference internal" href="progress.html">ProgressReport</a></li>
<li class="toctree-l1"><a class="reference internal" href="dotfilters.html">DotFilters</a></li>
<li class="toctree-l1"><a class="reference internal" href="basestats.html">BaseStats</a></li>
<li class="toctree-l1"><a class="reference internal" href="rsclient.html">RSClient</a></li>
<li class="toctree-l1"><a class="reference internal" href="basescript.html">BaseScript</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="login.html">Login</a></li>
<li class="toctree-l1"><a class="reference internal" href="xpdrop.html">XPDrop</a></li>
<li class="toctree-l1"><a class="reference internal" href="xpbar.html">XPDrop</a></li>
<li class="toctree-l1"><a class="reference internal" href="minimap.html">Minimap</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="xpbarsetup.html">XPBar</a></li>
<li class="toctree-l1"><a class="reference internal" href="bankpin.html">BankPin</a></li>
<li class="toctree-l1"><a class="reference internal" href="depositbox.html">DepositBox</a></li>
<li class="toctree-l1"><a class="reference internal" href="bank.html">BankPin</a></li>
<li class="toctree-l1"><a class="reference internal" href="mainscreen.html">MainScreen</a></li>
<li class="toctree-l1"><a class="reference internal" href="collectbox.html">CollectBox</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="magic.html">Magic</a></li>
<li class="toctree-l1"><a class="reference internal" href="worldhopper.html">TRSWorldHopper</a></li>
<li class="toctree-l1"><a class="reference internal" href="logout.html">Logout</a></li>
<li class="toctree-l1"><a class="reference internal" href="inventory.html">Inventory</a></li>
<li class="toctree-l1"><a class="reference internal" href="anvil.html">Anvil</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="chat.html">Chat.LeveledUp</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="consumablehandler.html">ConsumableHandlers</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="itemfinder.html">ItemFinder</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Walker</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#type-trsheightmap">type TRSHeightMap</a></li>
<li class="toctree-l2"><a class="reference internal" href="#trsheightmap-getcolor">TRSHeightMap.GetColor</a></li>
<li class="toctree-l2"><a class="reference internal" href="#trsheightmap-debugposition">TRSHeightMap.DebugPosition</a></li>
<li class="toctree-l2"><a class="reference internal" href="#trswalkermap-load">TRSWalkerMap.Load</a></li>
<li class="toctree-l2"><a class="reference internal" href="#walker-internalsetup">Walker.InternalSetup</a></li>
<li class="toctree-l2"><a class="reference internal" href="#walker-setupnamedregion">Walker.SetupNamedRegion</a></li>
<li class="toctree-l2"><a class="reference internal" href="#walker-getheight">Walker.GetHeight</a></li>
<li class="toctree-l2"><a class="reference internal" href="#walker-debugheighttiles">Walker.DebugHeightTiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="#walker-getmypos">Walker.GetMyPos</a></li>
<li class="toctree-l2"><a class="reference internal" href="#walker-getheightdiff">Walker.GetHeightDiff</a></li>
<li class="toctree-l2"><a class="reference internal" href="#trswalker-iswalkable">TRSWalker.IsWalkable</a></li>
<li class="toctree-l2"><a class="reference internal" href="#trswalker-attile">TRSWalker.AtTile</a></li>
<li class="toctree-l2"><a class="reference internal" href="#trswalker-getclosestpoint">TRSWalker.GetClosestPoint</a></li>
<li class="toctree-l2"><a class="reference internal" href="#trswalker-webwalk">TRSWalker.WebWalk</a></li>
<li class="toctree-l2"><a class="reference internal" href="#trswalker-worldtomm">TRSWalker.WorldToMM</a></li>
<li class="toctree-l2"><a class="reference internal" href="#trswalker-makepointvisible">TRSWalker.MakePointVisible</a></li>
<li class="toctree-l2"><a class="reference internal" href="#trswalker-getcuboidms">TRSWalker.GetCuboidMS</a></li>
<li class="toctree-l2"><a class="reference internal" href="#trswalker-gettilearrayms">TRSWalker.GetTileArrayMS</a></li>
<li class="toctree-l2"><a class="reference internal" href="#trswalker-getcuboidarrayms">TRSWalker.GetCuboidArrayMS</a></li>
<li class="toctree-l2"><a class="reference internal" href="#trswalker-getmmpoly">TRSWalker.GetMMPoly</a></li>
<li class="toctree-l2"><a class="reference internal" href="#trswalker-inpoly">TRSWalker.InPoly</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="walkerobjects.html">TRSWalkerObject</a></li>
<li class="toctree-l1"><a class="reference internal" href="rsmonster.html">RSMonters</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="craftscreen.html">CraftScreen</a></li>
<li class="toctree-l1"><a class="reference internal" href="silverscreen.html">SilverScreen</a></li>
<li class="toctree-l1"><a class="reference internal" href="fairyring.html">FairyRing</a></li>
<li class="toctree-l1"><a class="reference internal" href="furniturebuilder.html">FurnitureBuilder</a></li>
<li class="toctree-l1"><a class="reference internal" href="driftnet.html">TRSDriftNet.BankOverlayOpen</a></li>
<li class="toctree-l1"><a class="reference internal" href="driftnet.html#trsdriftnet-destroyoverlayopen">TRSDriftNet.DestroyOverlayOpen</a></li>
<li class="toctree-l1"><a class="reference internal" href="driftnet.html#trsdriftnet-hasoverlay">TRSDriftNet.HasOverlay</a></li>
<li class="toctree-l1"><a class="reference internal" href="driftnet.html#trsdriftnet-getslotboxes">TRSDriftNet.GetSlotBoxes</a></li>
<li class="toctree-l1"><a class="reference internal" href="driftnet.html#trsdriftnet-getbuttons">TRSDriftNet.GetButtons</a></li>
<li class="toctree-l1"><a class="reference internal" href="driftnet.html#trsdriftnet-getbutton">TRSDriftNet.GetButton</a></li>
<li class="toctree-l1"><a class="reference internal" href="anvil%28optional_interfaces_mainscreen%29.html">Anvil</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="consumablehandler%28optional_handlers%29.html">ConsumableHandlers</a></li>
<li class="toctree-l1"><a class="reference internal" href="combathandler.html">CombatHandler</a></li>
<li class="toctree-l1"><a class="reference internal" href="rsfishinghandler.html">TRSFishingHandler</a></li>
<li class="toctree-l1"><a class="reference internal" href="pohhandler.html">POHHandler</a></li>
<li class="toctree-l1"><a class="reference internal" href="loothandler.html">LootHandler</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">WaspLib</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Walker</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/walker.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="walker">
<h1>Walker<a class="headerlink" href="#walker" title="Link to this heading"></a></h1>
<p>Extensions to SRL’s TRSWalker.</p>
<hr class="docutils" />
<section id="type-trsheightmap">
<h2>type TRSHeightMap<a class="headerlink" href="#type-trsheightmap" title="Link to this heading"></a></h2>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="k">type</span>
<span class="w">  </span><span class="n">TRSHeightMap</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">record</span>
<span class="w">    </span><span class="n">Disabled</span><span class="o">:</span><span class="w"> </span><span class="kt">Boolean</span><span class="o">;</span>
<span class="w">    </span><span class="n">Map</span><span class="o">:</span><span class="w"> </span><span class="n">TMufasaBitmap</span><span class="o">;</span>
<span class="w">    </span><span class="n">MaxHeight</span><span class="o">:</span><span class="w"> </span><span class="kt">Double</span><span class="o">;</span>
<span class="w">    </span><span class="n">MathCache</span><span class="o">:</span><span class="w"> </span><span class="kt">Double</span><span class="o">;</span>
<span class="w">  </span><span class="k">end</span><span class="o">;</span>
</pre></div>
</div>
<p>TRSHeightMap is the type responsible for handling heights with walker when using WaspLib.
This type does not need to be initiated as a variable and it’s meant to be used directly with it’s static methods.</p>
<p><strong>Enabled</strong> is used to toggle the TRSHeightMap on/off. By default it will always be on unless there’s not a heightmap available for the map you load into walker.
the heightmap MUST be named the same as the map you load with an “h” prepended. E.G.: hWorld.png</p>
<p><strong>Map</strong> there’s not much to talk about this one, it’s simply the TMufasaBitmap loaded in the record.</p>
<p><strong>MaxHeight</strong> This is what will be considered the max height possible in the calculations made by TRSHeightMap.
There’s no way to accurately know what this should be, you should debug heights and set a value that looks good to you.
Values might also vary between regions but I find <strong>30</strong> to be a fine value that works well in a lot of places if not all.</p>
<p><strong>MathCache</strong>, not very important, simply a cache variable so we don’t repeat calculations when it’s not required.</p>
</section>
<hr class="docutils" />
<section id="trsheightmap-getcolor">
<h2>TRSHeightMap.GetColor<a class="headerlink" href="#trsheightmap-getcolor" title="Link to this heading"></a></h2>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="w"> </span><span class="nc">TRSHeightMap</span><span class="o">.</span><span class="nf">GetColor</span><span class="p">(</span><span class="n">p</span><span class="o">:</span><span class="w"> </span><span class="n">TPoint</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="kt">Int64</span><span class="o">;</span>
</pre></div>
</div>
<p>Returns the color of the heightmap at the specified point.</p>
<section id="example">
<h3>Example<a class="headerlink" href="#example" title="Link to this heading"></a></h3>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="nb">WriteLn</span><span class="w"> </span><span class="n">TRSHeightMap</span><span class="o">.</span><span class="n">GetColor</span><span class="p">([</span><span class="mi">100</span><span class="o">,</span><span class="w"> </span><span class="mi">100</span><span class="p">])</span><span class="o">;</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="trsheightmap-debugposition">
<h2>TRSHeightMap.DebugPosition<a class="headerlink" href="#trsheightmap-debugposition" title="Link to this heading"></a></h2>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="k">procedure</span><span class="w"> </span><span class="nc">TRSHeightMap</span><span class="o">.</span><span class="nf">DebugPosition</span><span class="p">(</span><span class="n">p</span><span class="o">:</span><span class="w"> </span><span class="n">TPoint</span><span class="p">)</span><span class="o">;</span>
</pre></div>
</div>
<p>Debug a point in the loaded heightmap.</p>
<section id="id1">
<h3>Example<a class="headerlink" href="#id1" title="Link to this heading"></a></h3>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="n">TRSHeightMap</span><span class="o">.</span><span class="n">DebugPosition</span><span class="p">(</span><span class="n">RSW</span><span class="o">.</span><span class="n">GetMyPos</span><span class="p">())</span><span class="o">;</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="trswalkermap-load">
<h2>TRSWalkerMap.Load<a class="headerlink" href="#trswalkermap-load" title="Link to this heading"></a></h2>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="k">procedure</span><span class="w"> </span><span class="nc">TRSWalkerMap</span><span class="o">.</span><span class="nf">Load</span><span class="p">(</span><span class="n">fileName</span><span class="o">:</span><span class="w"> </span><span class="k">String</span><span class="o">;</span><span class="w"> </span><span class="n">Scaling</span><span class="o">:</span><span class="w"> </span><span class="kt">Integer</span><span class="p">)</span><span class="o">;</span><span class="w"> </span><span class="kp">override</span><span class="o">;</span>
<span class="k">procedure</span><span class="w"> </span><span class="nc">TRSWalkerMap</span><span class="o">.</span><span class="nf">Load</span><span class="p">(</span><span class="n">fileName</span><span class="o">:</span><span class="w"> </span><span class="k">String</span><span class="o">;</span><span class="w"> </span><span class="n">aRegions</span><span class="o">:</span><span class="w"> </span><span class="n">TBoxArray</span><span class="o">;</span><span class="w"> </span><span class="n">Scaling</span><span class="o">:</span><span class="w"> </span><span class="kt">Integer</span><span class="o">;</span><span class="w"> </span><span class="n">Padding</span><span class="o">:</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">50</span><span class="p">)</span><span class="o">;</span><span class="w"> </span><span class="kp">override</span><span class="o">;</span>
<span class="k">procedure</span><span class="w"> </span><span class="nc">TRSWalkerMap</span><span class="o">.</span><span class="nf">Load</span><span class="p">(</span><span class="n">fileName</span><span class="o">:</span><span class="w"> </span><span class="k">String</span><span class="o">;</span><span class="w"> </span><span class="n">aRegion</span><span class="o">:</span><span class="w"> </span><span class="n">TBox</span><span class="o">;</span><span class="w"> </span><span class="n">scaling</span><span class="o">:</span><span class="w"> </span><span class="kt">Integer</span><span class="o">;</span><span class="w"> </span><span class="n">padding</span><span class="o">:</span><span class="w"> </span><span class="kt">Integer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">50</span><span class="p">)</span><span class="o">;</span><span class="w"> </span><span class="kp">override</span><span class="o">;</span>
<span class="k">procedure</span><span class="w"> </span><span class="nc">TRSWalkerMap</span><span class="o">.</span><span class="nf">Load</span><span class="p">(</span><span class="n">fileName</span><span class="o">:</span><span class="w"> </span><span class="k">String</span><span class="o">;</span><span class="w"> </span><span class="n">start</span><span class="o">:</span><span class="w"> </span><span class="n">TPoint</span><span class="o">;</span><span class="w"> </span><span class="n">scaling</span><span class="o">:</span><span class="w"> </span><span class="n">Int32</span><span class="o">;</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="n">aRegion</span><span class="o">:</span><span class="w"> </span><span class="n">TBox</span><span class="o">;</span><span class="w"> </span><span class="n">padding</span><span class="o">:</span><span class="w"> </span><span class="n">Int32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">50</span><span class="p">)</span><span class="o">;</span><span class="w"> </span><span class="kp">override</span><span class="o">;</span>
</pre></div>
</div>
<p>Overrides SRL’s TRSWalkerMap.Load() so it loads the respective heightmap if it exists.
This is an internal Walker method, you probably don’t need to call it.</p>
</section>
<hr class="docutils" />
<section id="walker-internalsetup">
<h2>Walker.InternalSetup<a class="headerlink" href="#walker-internalsetup" title="Link to this heading"></a></h2>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="k">procedure</span><span class="w"> </span><span class="nc">TRSWalker</span><span class="o">.</span><span class="nf">InternalSetup</span><span class="p">()</span><span class="o">;</span><span class="w"> </span><span class="kp">override</span><span class="o">;</span>
</pre></div>
</div>
<p>Overrides SRL’s Walker.InternalSetup() so it uses WaspWeb as the walker webgraph and so it uses ScreenWalk by default.
This is an internal Walker method, you probably don’t need to call it.
It also sets up the ScriptWalker pointer which is used for several things in WaspLib like TRSWalkerObjects and Skunk’s transport system.</p>
</section>
<hr class="docutils" />
<section id="walker-setupnamedregion">
<h2>Walker.SetupNamedRegion<a class="headerlink" href="#walker-setupnamedregion" title="Link to this heading"></a></h2>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="k">procedure</span><span class="w"> </span><span class="nc">TRSWalker</span><span class="o">.</span><span class="nf">SetupNamedRegion</span><span class="p">(</span><span class="n">region</span><span class="o">:</span><span class="w"> </span><span class="n">TRSBankRegion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[])</span><span class="o">;</span><span class="w"> </span><span class="n">overload</span><span class="o">;</span>
</pre></div>
</div>
<p>Use this if you want to setup a walker with whatever the user has setup in WLSettings.BankLocation.
You can optionally pass in your own <strong>region</strong> but it’s really meant to use the default.</p>
<section id="id2">
<h3>Example<a class="headerlink" href="#id2" title="Link to this heading"></a></h3>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="n">WLSettings</span><span class="o">.</span><span class="n">BankLocation</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">EWLBankLocation</span><span class="o">.</span><span class="n">CASTLE_WARS_BANK</span><span class="o">;</span>
<span class="n">Walker</span><span class="o">.</span><span class="n">SetupNamedRegion</span><span class="p">()</span><span class="o">;</span>
<span class="n">Walker</span><span class="o">.</span><span class="n">Map</span><span class="o">.</span><span class="n">Map</span><span class="o">.</span><span class="n">Debug</span><span class="p">()</span><span class="o">;</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="walker-getheight">
<h2>Walker.GetHeight<a class="headerlink" href="#walker-getheight" title="Link to this heading"></a></h2>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="w"> </span><span class="nc">TRSWalker</span><span class="o">.</span><span class="nf">GetHeight</span><span class="p">(</span><span class="n">p</span><span class="o">:</span><span class="w"> </span><span class="n">TPoint</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[]</span><span class="o">;</span><span class="w"> </span><span class="n">global</span><span class="o">:</span><span class="w"> </span><span class="kt">Boolean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">True</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="kt">Double</span><span class="o">;</span>
</pre></div>
</div>
<p>Returns the height of the player at the specified coordinate with the help of TRSHeightMap.
If p is [], which is the default then we will use our current position.
global decides wether the coordinate is converted to global coordinates or internal walker coordinates (read about walker regions for more info).</p>
<section id="id3">
<h3>Example<a class="headerlink" href="#id3" title="Link to this heading"></a></h3>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="nb">WriteLn</span><span class="w"> </span><span class="n">rsw</span><span class="o">.</span><span class="n">GetHeight</span><span class="p">()</span><span class="o">;</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="walker-debugheighttiles">
<h2>Walker.DebugHeightTiles<a class="headerlink" href="#walker-debugheighttiles" title="Link to this heading"></a></h2>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="k">procedure</span><span class="w"> </span><span class="nc">TRSWalker</span><span class="o">.</span><span class="nf">DebugHeightTiles</span><span class="p">(</span><span class="n">angle</span><span class="o">:</span><span class="w"> </span><span class="kt">Double</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">;</span>
</pre></div>
</div>
<p>Displays a debug image of the tiles visible on the mainscreen with their height adjusted according to the TRSHeightMap.
This is very useful if you need to adjust TRSHeightMap.MaxHeight.</p>
<section id="id4">
<h3>Example<a class="headerlink" href="#id4" title="Link to this heading"></a></h3>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="n">rsw</span><span class="o">.</span><span class="n">DebugHeightTiles</span><span class="p">()</span><span class="o">;</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="walker-getmypos">
<h2>Walker.GetMyPos<a class="headerlink" href="#walker-getmypos" title="Link to this heading"></a></h2>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="w"> </span><span class="nc">TRSWalker</span><span class="o">.</span><span class="nf">GetMyPos</span><span class="p">(</span><span class="n">out</span><span class="w"> </span><span class="n">height</span><span class="o">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="n">TPoint</span><span class="o">;</span><span class="w"> </span><span class="n">overload</span><span class="o">;</span>
</pre></div>
</div>
<p>Overload that also returns the player height.</p>
<section id="id5">
<h3>Example<a class="headerlink" href="#id5" title="Link to this heading"></a></h3>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="nb">WriteLn</span><span class="w"> </span><span class="n">RSW</span><span class="o">.</span><span class="n">GetMyPos</span><span class="p">(</span><span class="n">height</span><span class="p">)</span><span class="o">;</span>
<span class="nb">WriteLn</span><span class="w"> </span><span class="n">height</span><span class="o">;</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="walker-getheightdiff">
<h2>Walker.GetHeightDiff<a class="headerlink" href="#walker-getheightdiff" title="Link to this heading"></a></h2>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="w"> </span><span class="nc">TRSWalker</span><span class="o">.</span><span class="nf">GetHeightDiff</span><span class="p">(</span><span class="n">p</span><span class="o">:</span><span class="w"> </span><span class="n">TPoint</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="kt">Double</span><span class="o">;</span>
<span class="k">function</span><span class="w"> </span><span class="nc">TRSWalker</span><span class="o">.</span><span class="nf">GetHeightDiff</span><span class="p">(</span><span class="n">p</span><span class="o">,</span><span class="w"> </span><span class="n">q</span><span class="o">:</span><span class="w"> </span><span class="n">TPoint</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="kt">Double</span><span class="o">;</span><span class="w"> </span><span class="n">overload</span><span class="o">;</span>
</pre></div>
</div>
<p>Returns the height difference between 2 points. If only one point is passed, the player position is used as one of them.</p>
<section id="id6">
<h3>Example<a class="headerlink" href="#id6" title="Link to this heading"></a></h3>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="nb">WriteLn</span><span class="w"> </span><span class="n">RSW</span><span class="o">.</span><span class="n">GetMyPos</span><span class="p">(</span><span class="n">RSW</span><span class="o">.</span><span class="n">GetMyPos</span><span class="p">()</span><span class="o">,</span><span class="w"> </span><span class="p">[</span><span class="mi">100</span><span class="o">,</span><span class="w"> </span><span class="mi">100</span><span class="p">])</span><span class="o">;</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="trswalker-iswalkable">
<h2>TRSWalker.IsWalkable<a class="headerlink" href="#trswalker-iswalkable" title="Link to this heading"></a></h2>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="w"> </span><span class="nc">TRSWalker</span><span class="o">.</span><span class="nf">IsWalkable</span><span class="p">(</span><span class="n">worldPoint</span><span class="o">:</span><span class="w"> </span><span class="n">TPoint</span><span class="o">;</span><span class="w"> </span><span class="n">playerPoint</span><span class="o">:</span><span class="w"> </span><span class="n">TPoint</span><span class="o">;</span><span class="w"> </span><span class="n">Angle</span><span class="o">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="kt">Boolean</span><span class="o">;</span><span class="w"> </span><span class="kp">override</span><span class="o">;</span>
</pre></div>
</div>
<p>Overriden to change the default behavior of TRSWalker.IsWalkable(), specifically for ScreenWalking since I don’t like the default behaviour.
I find that minimap limits is extremely close to the render distance in the mainscreen, so personally I rather not
have the function bother any further if <strong>worldPoint</strong> is not on the minimap.</p>
<p>This override will affect both TRSWalker and TRSWalker.</p>
</section>
<hr class="docutils" />
<section id="trswalker-attile">
<h2>TRSWalker.AtTile<a class="headerlink" href="#trswalker-attile" title="Link to this heading"></a></h2>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="w"> </span><span class="nc">TRSWalker</span><span class="o">.</span><span class="nf">AtTile</span><span class="p">(</span><span class="n">worldPoint</span><span class="o">:</span><span class="w"> </span><span class="n">TPoint</span><span class="o">;</span><span class="w"> </span><span class="n">Distance</span><span class="o">:</span><span class="w"> </span><span class="n">Int32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="kt">Boolean</span><span class="o">;</span>
<span class="k">function</span><span class="w"> </span><span class="nc">TRSWalker</span><span class="o">.</span><span class="nf">AtTile</span><span class="p">(</span><span class="n">worldPointArray</span><span class="o">:</span><span class="w"> </span><span class="n">TPointArray</span><span class="o">;</span><span class="w"> </span><span class="n">Distance</span><span class="o">:</span><span class="w"> </span><span class="n">Int32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="kt">Boolean</span><span class="o">;</span><span class="w"> </span><span class="n">overload</span><span class="o">;</span>
</pre></div>
</div>
<p>method used to quickly check if we are within distance of a certain <strong>worldPoint</strong>. This distance is measure in pixels and in a radial way.
You can optionally pass in a TPA to check if the closest point is within distance.</p>
<p>This is a TRSWalker method so it will exist both on TRSWalker and TRSWalker.</p>
</section>
<hr class="docutils" />
<section id="trswalker-getclosestpoint">
<h2>TRSWalker.GetClosestPoint<a class="headerlink" href="#trswalker-getclosestpoint" title="Link to this heading"></a></h2>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="w"> </span><span class="nc">TRSWalker</span><span class="o">.</span><span class="nf">GetClosestPoint</span><span class="p">(</span><span class="n">worldPointArray</span><span class="o">:</span><span class="w"> </span><span class="n">TPointArray</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="n">TPoint</span><span class="o">;</span>
</pre></div>
</div>
<p>method used to get the closest Point to the Player out of a TPA.</p>
<p>This is a TRSWalker method so it will exist both on TRSWalker and TRSWalker.</p>
</section>
<hr class="docutils" />
<section id="trswalker-webwalk">
<h2>TRSWalker.WebWalk<a class="headerlink" href="#trswalker-webwalk" title="Link to this heading"></a></h2>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="w"> </span><span class="nc">TRSWalker</span><span class="o">.</span><span class="nf">WebWalk</span><span class="p">(</span><span class="n">destinations</span><span class="o">:</span><span class="w"> </span><span class="n">TPointArray</span><span class="o">;</span><span class="w"> </span><span class="n">waitUntilDistance</span><span class="o">:</span><span class="w"> </span><span class="n">Int32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="o">;</span><span class="w"> </span><span class="n">pathRandomness</span><span class="o">:</span><span class="w"> </span><span class="kt">Double</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="kt">Boolean</span><span class="o">;</span><span class="w"> </span><span class="n">overload</span><span class="o">;</span>
</pre></div>
</div>
<p>method used to webwalk to the closest Point to the player.
An example use case is for example, if you have sevel bank booths you can use, those would be your <strong>Destination</strong> TPA.
You will likely want to use the closest bank booth to you, so you use this.</p>
<p>This is a TRSWalker method so it will exist both on TRSWalker and TRSWalker.</p>
</section>
<hr class="docutils" />
<section id="trswalker-worldtomm">
<h2>TRSWalker.WorldToMM<a class="headerlink" href="#trswalker-worldtomm" title="Link to this heading"></a></h2>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="w"> </span><span class="nc">TRSWalker</span><span class="o">.</span><span class="nf">WorldToMM</span><span class="p">(</span><span class="n">me</span><span class="o">:</span><span class="w"> </span><span class="n">TPoint</span><span class="o">;</span><span class="w"> </span><span class="n">tpa</span><span class="o">:</span><span class="w"> </span><span class="n">TPointArray</span><span class="o">;</span><span class="w"> </span><span class="n">radians</span><span class="o">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="n">TPointArray</span><span class="o">;</span><span class="w"> </span><span class="n">overload</span><span class="o">;</span>
<span class="k">function</span><span class="w"> </span><span class="nc">TRSWalker</span><span class="o">.</span><span class="nf">WorldToMM</span><span class="p">(</span><span class="n">tpa</span><span class="o">:</span><span class="w"> </span><span class="n">TPointArray</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="n">TPointArray</span><span class="o">;</span><span class="w"> </span><span class="n">overload</span><span class="o">;</span>
<span class="k">function</span><span class="w"> </span><span class="nc">TRSWalker</span><span class="o">.</span><span class="nf">WorldToMM</span><span class="p">(</span><span class="n">me</span><span class="o">:</span><span class="w"> </span><span class="n">TPoint</span><span class="o">;</span><span class="w"> </span><span class="n">atpa</span><span class="o">:</span><span class="w"> </span><span class="n">T2DPointArray</span><span class="o">;</span><span class="w"> </span><span class="n">radians</span><span class="o">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="n">T2DPointArray</span><span class="o">;</span><span class="w"> </span><span class="n">overload</span><span class="o">;</span>
<span class="k">function</span><span class="w"> </span><span class="nc">TRSWalker</span><span class="o">.</span><span class="nf">WorldToMM</span><span class="p">(</span><span class="n">atpa</span><span class="o">:</span><span class="w"> </span><span class="n">T2DPointArray</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="n">TPointArray</span><span class="o">;</span><span class="w"> </span><span class="n">overload</span><span class="o">;</span>
<span class="k">function</span><span class="w"> </span><span class="nc">TRSWalker</span><span class="o">.</span><span class="nf">WorldToMM</span><span class="p">(</span><span class="n">me</span><span class="o">:</span><span class="w"> </span><span class="n">TPoint</span><span class="o">;</span><span class="w"> </span><span class="n">dotFilter</span><span class="o">:</span><span class="w"> </span><span class="n">TRSDotFilter</span><span class="o">;</span><span class="w"> </span><span class="n">roll</span><span class="o">:</span><span class="w"> </span><span class="kt">Double</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">$FFFF</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="n">TRSDotFilter</span><span class="o">;</span><span class="w"> </span><span class="n">overload</span><span class="o">;</span>
<span class="k">function</span><span class="w"> </span><span class="nc">TRSWalker</span><span class="o">.</span><span class="nf">WorldToMM</span><span class="p">(</span><span class="n">dotFilterArray</span><span class="o">:</span><span class="w"> </span><span class="n">TRSDotFilterArray</span><span class="o">;</span><span class="w"> </span><span class="n">roll</span><span class="o">:</span><span class="w"> </span><span class="kt">Double</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">$FFFF</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="n">TRSDotFilterArray</span><span class="o">;</span><span class="w"> </span><span class="n">overload</span><span class="o">;</span>
</pre></div>
</div>
<p>Overloaded methods required for ATPAs and TRSDotFilters. For more information on TRSDotFilter check their documentation.</p>
<p>This is a TRSWalker method so it will exist both on TRSWalker and TRSWalker.</p>
</section>
<hr class="docutils" />
<section id="trswalker-makepointvisible">
<h2>TRSWalker.MakePointVisible<a class="headerlink" href="#trswalker-makepointvisible" title="Link to this heading"></a></h2>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="w"> </span><span class="nc">TRSWalker</span><span class="o">.</span><span class="nf">MakePointVisible</span><span class="p">(</span><span class="n">p</span><span class="o">:</span><span class="w"> </span><span class="n">TPoint</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="kt">Boolean</span><span class="o">;</span>
<span class="k">function</span><span class="w"> </span><span class="nc">TRSWalker</span><span class="o">.</span><span class="nf">MakePointVisible</span><span class="p">(</span><span class="n">tpa</span><span class="o">:</span><span class="w"> </span><span class="n">TPointArray</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="kt">Boolean</span><span class="o">;</span><span class="w"> </span><span class="n">overload</span><span class="o">;</span>
</pre></div>
</div>
<p>Wrapper function used to attempt to make a Point visible on the MainScreen.</p>
<p>This are TRSWalker methods so they will exist both on TRSWalker and TRSWalker.</p>
</section>
<hr class="docutils" />
<section id="trswalker-getcuboidms">
<h2>TRSWalker.GetCuboidMS<a class="headerlink" href="#trswalker-getcuboidms" title="Link to this heading"></a></h2>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="w"> </span><span class="nc">TRSWalker</span><span class="o">.</span><span class="nf">GetCuboidMS</span><span class="p">(</span><span class="n">me</span><span class="o">,</span><span class="w"> </span><span class="n">loc</span><span class="o">:</span><span class="w"> </span><span class="n">TPoint</span><span class="o">;</span><span class="w"> </span><span class="n">tile</span><span class="o">:</span><span class="w"> </span><span class="n">Vector3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="o">,</span><span class="w"> </span><span class="mi">1</span><span class="o">,</span><span class="w"> </span><span class="mi">4</span><span class="p">]</span><span class="o">;</span><span class="w"> </span><span class="n">Offset</span><span class="o">:</span><span class="w"> </span><span class="n">Vector2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="o">,</span><span class="w"> </span><span class="mi">0</span><span class="p">])</span><span class="o">:</span><span class="w"> </span><span class="n">TPointArray</span><span class="o">;</span>
<span class="k">function</span><span class="w"> </span><span class="nc">TRSWalker</span><span class="o">.</span><span class="nf">GetCuboidMS</span><span class="p">(</span><span class="n">loc</span><span class="o">:</span><span class="w"> </span><span class="n">TPoint</span><span class="o">;</span><span class="w"> </span><span class="n">tile</span><span class="o">:</span><span class="w"> </span><span class="n">Vector3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="o">,</span><span class="w"> </span><span class="mi">1</span><span class="o">,</span><span class="w"> </span><span class="mi">4</span><span class="p">]</span><span class="o">;</span><span class="w"> </span><span class="n">Offset</span><span class="o">:</span><span class="w"> </span><span class="n">Vector2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="o">,</span><span class="w"> </span><span class="mi">0</span><span class="p">])</span><span class="o">:</span><span class="w"> </span><span class="n">TPointArray</span><span class="o">;</span><span class="w"> </span><span class="n">overload</span><span class="o">;</span>
</pre></div>
</div>
<p>This are TRSWalker methods so they will exist both on TRSWalker and TRSWalker.</p>
<p>To understand what this does, you should read about <strong>TRSMinimap.GetTileMS()</strong> and <strong>TPointArray.ConvexHull()</strong> and understand what they do.
This calls <strong>TRSMinimap.GetCuboidMS()</strong> internally which in turn will use both methods above.</p>
<p>To put it simply, this will will first calculate a floor rectangle with <strong>tile.Z</strong>, or <strong>height</strong> if you prefer
of 0 and then calculate the top rectangle of the <strong>tile.Z</strong> you specified.</p>
<p>After this 2 rectangles are calculated a polygon is then made out of the two, resulting in a ConvexHull which is returned.</p>
<p>This is perfect to to get an accurate bounding polygon of objects and NPCs which you can use to accurately color search after.</p>
<p>The example below will show you how it could be used to retrieve an accurate player bounding polygon:</p>
<section id="id7">
<h3>Example<a class="headerlink" href="#id7" title="Link to this heading"></a></h3>
</section>
</section>
<hr class="docutils" />
<section id="trswalker-gettilearrayms">
<h2>TRSWalker.GetTileArrayMS<a class="headerlink" href="#trswalker-gettilearrayms" title="Link to this heading"></a></h2>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="w"> </span><span class="nc">TRSWalker</span><span class="o">.</span><span class="nf">GetTileArrayMS</span><span class="p">(</span><span class="n">me</span><span class="o">:</span><span class="w"> </span><span class="n">TPoint</span><span class="o">;</span><span class="w"> </span><span class="n">locArray</span><span class="o">:</span><span class="w"> </span><span class="n">TPointArray</span><span class="o">;</span><span class="w"> </span><span class="n">tile</span><span class="o">:</span><span class="w"> </span><span class="n">Vector3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="o">,</span><span class="w"> </span><span class="mi">1</span><span class="o">,</span><span class="w"> </span><span class="mi">0</span><span class="p">]</span><span class="o">;</span><span class="w"> </span><span class="n">Offset</span><span class="o">:</span><span class="w"> </span><span class="n">Vector2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="o">,</span><span class="w"> </span><span class="mi">0</span><span class="p">])</span><span class="o">:</span><span class="w"> </span><span class="n">TRectArray</span><span class="o">;</span>
<span class="k">function</span><span class="w"> </span><span class="nc">TRSWalker</span><span class="o">.</span><span class="nf">GetTileArrayMS</span><span class="p">(</span><span class="n">locArray</span><span class="o">:</span><span class="w"> </span><span class="n">TPointArray</span><span class="o">;</span><span class="w"> </span><span class="n">tile</span><span class="o">:</span><span class="w"> </span><span class="n">Vector3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="o">,</span><span class="w"> </span><span class="mi">1</span><span class="o">,</span><span class="w"> </span><span class="mi">0</span><span class="p">]</span><span class="o">;</span><span class="w"> </span><span class="n">Offset</span><span class="o">:</span><span class="w"> </span><span class="n">Vector2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="o">,</span><span class="w"> </span><span class="mi">0</span><span class="p">])</span><span class="o">:</span><span class="w"> </span><span class="n">TRectArray</span><span class="o">;</span><span class="w"> </span><span class="n">overload</span><span class="o">;</span>
</pre></div>
</div>
<p>This are wrapper functions to retrieve multiple tiles. Refer to SRL’s TRSWalker.GetTileMSEx() and TRSWalker.GetTileMS() for more information.</p>
<p>This are TRSWalker methods so they will exist both on TRSWalker and TRSWalker.</p>
</section>
<hr class="docutils" />
<section id="trswalker-getcuboidarrayms">
<h2>TRSWalker.GetCuboidArrayMS<a class="headerlink" href="#trswalker-getcuboidarrayms" title="Link to this heading"></a></h2>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="w"> </span><span class="nc">TRSWalker</span><span class="o">.</span><span class="nf">GetCuboidArrayMS</span><span class="p">(</span><span class="n">me</span><span class="o">:</span><span class="w"> </span><span class="n">TPoint</span><span class="o">;</span><span class="w"> </span><span class="n">locArray</span><span class="o">:</span><span class="w"> </span><span class="n">TPointArray</span><span class="o">;</span><span class="w"> </span><span class="n">tile</span><span class="o">:</span><span class="w"> </span><span class="n">Vector3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="o">,</span><span class="w"> </span><span class="mi">1</span><span class="o">,</span><span class="w"> </span><span class="mi">4</span><span class="p">]</span><span class="o">;</span><span class="w"> </span><span class="n">Offset</span><span class="o">:</span><span class="w"> </span><span class="n">Vector2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="o">,</span><span class="w"> </span><span class="mi">0</span><span class="p">])</span><span class="o">:</span><span class="w"> </span><span class="n">T2DPointArray</span><span class="o">;</span>
<span class="k">function</span><span class="w"> </span><span class="nc">TRSWalker</span><span class="o">.</span><span class="nf">GetCuboidArrayMS</span><span class="p">(</span><span class="n">locArray</span><span class="o">:</span><span class="w"> </span><span class="n">TPointArray</span><span class="o">;</span><span class="w"> </span><span class="n">tile</span><span class="o">:</span><span class="w"> </span><span class="n">Vector3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="o">,</span><span class="w"> </span><span class="mi">1</span><span class="o">,</span><span class="w"> </span><span class="mi">4</span><span class="p">]</span><span class="o">;</span><span class="w"> </span><span class="n">Offset</span><span class="o">:</span><span class="w"> </span><span class="n">Vector2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="o">,</span><span class="w"> </span><span class="mi">0</span><span class="p">])</span><span class="o">:</span><span class="w"> </span><span class="n">T2DPointArray</span><span class="o">;</span>
</pre></div>
</div>
<p>Gives you an array of mainscreen polygons. Read <strong>Minimap.GetCuboidMS</strong> for more information.</p>
<p>This are TRSWalker methods so they will exist both on TRSWalker and TRSWalker.</p>
<section id="id8">
<h3>Example<a class="headerlink" href="#id8" title="Link to this heading"></a></h3>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="n">TPA</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="n">Minimap</span><span class="o">.</span><span class="n">GetDots</span><span class="p">(</span><span class="n">ERSMinimapDot</span><span class="o">.</span><span class="n">Player</span><span class="p">)</span><span class="o">;</span><span class="w">   </span><span class="c1">//find all player dots and returns their coodinates.</span>
<span class="n">Debug</span><span class="p">(</span><span class="n">Minimap</span><span class="o">.</span><span class="n">GetCuboidArrayMS</span><span class="p">(</span><span class="n">TPA</span><span class="o">,</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="o">,</span><span class="w"> </span><span class="mi">3</span><span class="o">,</span><span class="w"> </span><span class="mi">5</span><span class="p">]</span><span class="o">,</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="o">,</span><span class="w"> </span><span class="mi">2</span><span class="p">]))</span><span class="o">;</span><span class="w"> </span><span class="c1">//This will draw a polygon that is 2 by 3 tiles and height 5 in the mainscreen where each NPC is.</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="trswalker-getmmpoly">
<h2>TRSWalker.GetMMPoly<a class="headerlink" href="#trswalker-getmmpoly" title="Link to this heading"></a></h2>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="w"> </span><span class="nc">TRSWalker</span><span class="o">.</span><span class="nf">GetMMPoly</span><span class="p">(</span><span class="n">tpa</span><span class="o">:</span><span class="w"> </span><span class="n">TPointArray</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="n">TPointArray</span><span class="o">;</span><span class="w"> </span><span class="n">deprecated</span><span class="w"> </span><span class="s">&#39;Use TRSWalker.WorldToMM() instead.&#39;</span><span class="o">;</span>
</pre></div>
</div>
<p>This function converts a list of points to their respective points in the minimap.
This is extremely useful if you want to be sure you are within an area.
To make a polygon or a polygon array easily you can use Simba/Includes/WaspLib/tools/walkerpolygon.simba.</p>
<p>This are TRSWalker methods so they will exist both on TRSWalker and TRSWalker.</p>
<section id="id9">
<h3>Example<a class="headerlink" href="#id9" title="Link to this heading"></a></h3>
</section>
</section>
<hr class="docutils" />
<section id="trswalker-inpoly">
<h2>TRSWalker.InPoly<a class="headerlink" href="#trswalker-inpoly" title="Link to this heading"></a></h2>
<div class="highlight-pascal notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="w"> </span><span class="nc">TRSWalker</span><span class="o">.</span><span class="nf">InPoly</span><span class="p">(</span><span class="n">locArray</span><span class="o">:</span><span class="w"> </span><span class="n">TPointArray</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="kt">Boolean</span><span class="o">;</span>
</pre></div>
</div>
<p>Checks if you are inside a polygon. If you need to debug the polygon check the example in TRSWalker.GetMMPoly.</p>
<p>This are TRSWalker methods so they will exist both on TRSWalker and TRSWalker.</p>
<hr class="docutils" />
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="itemfinder.html" class="btn btn-neutral float-left" title="ItemFinder" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="walkerobjects.html" class="btn btn-neutral float-right" title="TRSWalkerObject" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, WaspBots.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>  

  <style>
         .wy-nav-content { max-width: none; }
  </style>



</body>
</html>